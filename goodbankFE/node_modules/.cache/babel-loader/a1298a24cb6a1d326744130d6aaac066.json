{"ast":null,"code":"var _jsxFileName = \"/home/scott/Dropbox/MERN Class (MIT xPRO)/Capstone Bad Bank Project/goodbankfe/src/components/deposit.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Button, Card } from \"react-bootstrap\";\nimport UserContext from \"./context.js\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\nimport NumberFormat from \"react-number-format\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Deposit = () => {\n  _s();\n\n  const ctx = React.useContext(UserContext);\n  const [confMsg, setConfMsg] = React.useState(\"\");\n\n  const setTextColor = () => {\n    return ctx.users[ctx.currentUser].balance <= 0 ? \"red\" : \"green\";\n  }; // function onFormSubmit(values) {\n  //   ctx.users[ctx.currentUser].balance =\n  //     ctx.users[ctx.currentUser].balance + parseFloat(values.amt);\n  // }\n\n\n  function onFormSubmit(values) {\n    ctx.users[ctx.currentUser].balance = ctx.users[ctx.currentUser].balance + parseFloat(values.amt);\n    const url = `/account/update/${values.name}/${values.email}/${ctx.users[ctx.currentUser].balance}`;\n\n    (async () => {\n      var res = await fetch(url);\n      var data = await res.json();\n      console.log(data);\n    })();\n\n    setConfMsg(\"Balance Updated!\");\n    setTimeout(() => setConfMsg(\"\"), 5000);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: {\n      amt: \"$0.00\"\n    },\n    validationSchema: validationSchema,\n    onSubmit: (values, _ref) => {\n      let {\n        resetForm,\n        setSubmitting\n      } = _ref;\n      onFormSubmit(values);\n      setSubmitting(false);\n      resetForm();\n    },\n    children: [_ref2 => {\n      let {\n        isSubmitting,\n        isValid,\n        dirty\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            color: setTextColor(),\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          children: [\"Balance:\", /*#__PURE__*/_jsxDEV(NumberFormat, {\n            value: ctx.users[ctx.currentUser].balance,\n            displayType: \"text\",\n            thousandSeparator: true,\n            decimalScale: \"2\",\n            fixedDecimalScale: true,\n            prefix: \"  $\",\n            style: {\n              color: setTextColor()\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: \"18rem\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: \"Deposit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: \"Deposit Amount :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              id: \"amt\",\n              type: \"number\",\n              name: \"amt\",\n              step: \"any\",\n              placeholder: \"$0.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              style: {\n                margin: \"20px\"\n              },\n              disabled: isSubmitting || !(isValid && dirty),\n              children: \"Deposit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this);\n    }, /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      item: true,\n      xs: 6,\n      justifyContent: \"flex-end\",\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        style: {\n          color: \"green\"\n        },\n        children: confMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Deposit, \"qmSROkTt2WZ0hZvjDDBHZ50S8iM=\");\n\n_c = Deposit;\nconst validationSchema = Yup.object().shape({\n  amt: Yup.number().test(\"is positive\", \"You must enter a positive number\", value => value > 0)\n});\nexport default Deposit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Deposit\");","map":{"version":3,"sources":["/home/scott/Dropbox/MERN Class (MIT xPRO)/Capstone Bad Bank Project/goodbankfe/src/components/deposit.js"],"names":["React","Button","Card","UserContext","Formik","Form","Field","Yup","NumberFormat","Grid","Deposit","ctx","useContext","confMsg","setConfMsg","useState","setTextColor","users","currentUser","balance","onFormSubmit","values","parseFloat","amt","url","name","email","res","fetch","data","json","console","log","setTimeout","validationSchema","resetForm","setSubmitting","isSubmitting","isValid","dirty","color","display","justifyContent","alignItems","width","marginLeft","marginRight","margin","object","shape","number","test","value"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Button, Card } from \"react-bootstrap\";\r\nimport UserContext from \"./context.js\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst Deposit = () => {\r\n  const ctx = React.useContext(UserContext);\r\n  const [confMsg, setConfMsg] = React.useState(\"\");\r\n  const setTextColor = () => {\r\n    return(ctx.users[ctx.currentUser].balance <= 0 ? \"red\" : \"green\");\r\n  };\r\n\r\n  // function onFormSubmit(values) {\r\n  //   ctx.users[ctx.currentUser].balance =\r\n  //     ctx.users[ctx.currentUser].balance + parseFloat(values.amt);\r\n  // }\r\n  function onFormSubmit(values) {\r\n    ctx.users[ctx.currentUser].balance = ctx.users[ctx.currentUser].balance + parseFloat(values.amt);\r\n    const url = `/account/update/${values.name}/${values.email}/${ctx.users[ctx.currentUser].balance}`;\r\n    (async () => {\r\n        var res  = await fetch(url);\r\n        var data = await res.json();    \r\n        console.log(data);        \r\n    })();\r\n    setConfMsg(\"Balance Updated!\");\r\n    setTimeout(() => setConfMsg(\"\"), 5000);\r\n  }\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        amt: \"$0.00\",\r\n      }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={(values, { resetForm, setSubmitting }) => {\r\n        onFormSubmit(values);\r\n        setSubmitting(false);\r\n        resetForm();\r\n      }}\r\n    >\r\n      {({ isSubmitting, isValid, dirty }) => (\r\n        <Form>\r\n          <h2\r\n            style={{\r\n              color: setTextColor(),\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            Balance:\r\n            <NumberFormat\r\n              value={ctx.users[ctx.currentUser].balance}\r\n              displayType={\"text\"}\r\n              thousandSeparator={true}\r\n              decimalScale={\"2\"}\r\n              fixedDecimalScale={true}\r\n              prefix={\"  $\"}\r\n              style={{ color: setTextColor() }}\r\n            />\r\n          </h2>\r\n\r\n          <Card\r\n            style={{ width: \"18rem\", marginLeft: \"auto\", marginRight: \"auto\" }}\r\n          >\r\n            <Card.Body>\r\n              <Card.Title>Deposit</Card.Title>\r\n\r\n              <Card.Text>Deposit Amount :</Card.Text>\r\n              <Field\r\n                id=\"amt\"\r\n                type=\"number\"\r\n                name=\"amt\"\r\n                step=\"any\"\r\n                placeholder=\"$0.00\"\r\n              />\r\n\r\n              <Button\r\n                variant=\"primary\"\r\n                type=\"submit\"\r\n                style={{ margin: \"20px\" }}\r\n                disabled={isSubmitting || !(isValid && dirty)}\r\n              >\r\n                Deposit\r\n              </Button>\r\n            </Card.Body>\r\n          </Card>\r\n        </Form>\r\n      )}\r\n                        <Grid\r\n                    container\r\n                    item\r\n                    xs={6}\r\n                    justifyContent=\"flex-end\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <h5 style={{ color: \"green\" }}>{confMsg}</h5>\r\n                  </Grid>\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  amt: Yup.number().test(\r\n    \"is positive\",\r\n    \"You must enter a positive number\",\r\n    (value) => value > 0\r\n  ),\r\n});\r\n\r\nexport default Deposit;\r\n"]},"metadata":{},"sourceType":"module"}